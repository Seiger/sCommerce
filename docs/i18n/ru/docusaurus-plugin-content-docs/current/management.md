---
id: management
title: Управление
sidebar_position: 10
---

После установки модуля вы можете использовать его сразу. Путь к модулю в 
панели администратора **Панель администратора -> Модули -> Commerce**.

Вы также можете зафиксировать быстрый доступ к модулю через главное меню Панели администратора. 
Это можно сделать на вкладке конфигурации (доступно только для роли администратора).

При переходе к середине модуля магазина вашему вниманию будет представлен список вкладок.

Каждая вкладка имеет свою функциональность и уровень доступа. Рассмотрим каждую вкладку подробнее.

## Товары

Вкладка Товары отображает полный список товаров и услуг, предоставляемых вашим магазином.
Список представлен в виде изображения товара, его названия, которое в свою очередь является
гиперссылкой на страницу товара на фронтенде, а также дополнительной информацией и кнопками управления товаром.

На странице также есть форма поиска товаров и фильтры для быстрого поиска нужного
элемента. Для удобства управления вы можете сортировать товары по всем полям таблицы представления
как в прямом, так и в обратном направлении. Поля для таблицы представления товара
настраиваются на вкладке Настройки.

Если в вашем магазине больше товаров, чем вы выбрали отображать на странице, другие товары
автоматически перейдут на другую страницу, а внизу появится пагинация.
Обратите внимание, что выбор количества товаров на странице списка товаров бэкенда
не влияет на отображение количества товаров фронтенда.

## Атрибуты

Вкладка Атрибуты отображает полный список атрибутов, доступных для настройки ваших товаров.
Список представлен в виде заголовка и дополнительной информации, а также кнопок управления.

На странице также есть форма поиска атрибутов. Для удобства управления вы можете сортировать атрибуты по всем полям таблицы представления
как в прямом, так и в обратном направлении.

Если в вашем магазине больше атрибутов, чем вы выбрали отображать на странице, другие атрибуты
автоматически перейдут на другую страницу, а внизу появится пагинация.

## Настройки

На вкладке Настройки вы управляете всеми настройками вашего магазина. Обратите внимание, что эта вкладка
доступна только пользователям с ролью администратора сайта.

На этой вкладке вы можете контролировать, как магазин отображается в главном меню панели администратора
а также другие вкладки, отображаемые в модуле магазина. А также у вас есть опция включения/отключения
дополнительной функциональности магазина.

Вы также можете скрыть или показать определенные поля в товаре или заказе, а также
переименовать определенные поля, чтобы менеджер магазина имел более четкое представление о том, какую
функциональность имеет конкретное поле.

## Валюты

Вкладка Валюты предоставляет инструменты для управления курсами обмена между валютами,
используемыми в вашем магазине. В отличие от других вкладок, список доступных валют не настраивается
непосредственно здесь, а вместо этого регистрируется на вкладке Настройки. Это позволяет администраторам
определять, какие валюты доступны для использования в магазине, сохраняя гибкость
в управлении их курсами обмена.

Все значения курса обмена сохраняются в конфигурационном файле, расположенном по адресу
`core/custom/config/seiger/settings/sCommerceCurrencies.php`. Данные сохраняются в виде
массива, обеспечивая быстрый доступ и легкую модификацию при необходимости. Этот подход позволяет
системе поддерживать согласованность, упрощая интеграцию с другими модулями или
пользовательской функциональностью.

Вкладка предназначена для помощи администраторам легко обновлять курсы обмена относительно
базовой валюты магазина. Это обеспечивает точность и согласованность всех цен, отображаемых клиентам,
даже при работе с несколькими валютами. Хотя автоматизация обновлений курса обмена может быть интегрирована в будущем,
текущий дизайн приоритизирует ручное управление для точности и надежности.

## Пользовательская вкладка

У вас есть возможность расширить возможности административной части модуля sCommerce
с помощью события `sCommerceManagerAddTabEvent`. Для этого используйте ваш собственный файл плагина или создайте
новый (например `core/custom/packages/main/plugins/SeigerPlugin.php`) и добавьте следующее содержимое.

```php
<?php

use Illuminate\Support\Facades\Event;
use Seiger\sCommerce\Facades\sCommerce;
...

Event::listen('evolution.sCommerceManagerAddTabEvent', function($params) {
    $result['handler'] = MODX_BASE_PATH . 'core/custom/packages/main/src/Controllers/SeigerPluginCommerceHandler.php';
    $result['view'] = '';

    switch ($params['currentTab'] ?? '') {
        case 'content' :
            $result['view'] = sCommerce::tabRender('mypage', 'Main::seigerplugin.mypageTab', $params['dataInput'] ?? [], 'My Page', 'fa fa-keyboard', 'The text that is displayed when hovering');
            break;
    }

    return $result;
});

...
```

В результате должен быть возвращен массив с двумя ключами **handler** и **view**.
Ключ **handler** должен содержать ссылку на файл обработчика для вашей пользовательской страницы.
Смотрите пример файла обработчика.

```php
<?php

use Seiger\sCommerce\Facades\sCommerce;

switch (request()->input('get')) { // текущий id вкладки
    case 'mypage': // текущий id вкладки
        $tabs = ['products', 'attributes']; // вкладки, которые должны отображаться при показе этой вкладки
        
        ...
        
        $data['items'] = $items; // данные, которые нужно передать в представление
        break;
    case 'mypageSave': // если данные нужно сохранить
        ...
        
        $back = (request()->back ?? '&get=products');
        return header('Location: ' . sCommerce::moduleUrl() . $back);
}
```

Ключ **view** должен содержать отображение вашей страницы. Это довольно легко достичь
если вы используете метод `sCommerce::tabRender()`. В качестве аргументов передаются следующие данные,
как в примере:

```php
'mypage', // ID вкладки
'Main::seigerplugin.mypageTab', // Шаблон для вкладки
$params['dataInput'] ?? [], // Входные данные для вкладки
'My Page', // Название вкладки
'fa fa-keyboard', // Иконка для вкладки
'The text that is displayed when hovering' // Справочный текст для вкладки
```
