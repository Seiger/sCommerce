---
id: management
title: Управління
sidebar_position: 10
---

Після встановлення модуля ви можете використовувати його одразу. Шлях до модуля в 
панелі адміністратора **Панель адміністратора -> Модулі -> Commerce**.

Ви також можете зафіксувати швидкий доступ до модуля через головне меню Панелі адміністратора. 
Це можна зробити на вкладці конфігурації (доступно тільки для ролі адміністратора).

При переході до середини модуля магазину вашій увазі буде представлений список вкладок.

Кожна вкладка має свою функціональність та рівень доступу. Розглянемо кожну вкладку детальніше.

## Товари

Вкладка Товари відображає повний список товарів та послуг, що надаються вашим магазином.
Список представлено у вигляді зображення товару, його назви, яка в свою чергу є
гіперпосиланням на сторінку товару на фронтенді, а також додатковою інформацією та кнопками управління товаром.

На сторінці також є форма пошуку товарів та фільтри для швидкого пошуку потрібного
елемента. Для зручності управління ви можете сортувати товари за всіма полями таблиці представлення
як у прямому, так і у зворотному напрямку. Поля для таблиці представлення товару
налаштовуються на вкладці Налаштування.

Якщо у вашому магазині більше товарів, ніж ви обрали відображати на сторінці, інші товари
автоматично перейдуть на іншу сторінку, а внизу з'явиться пагінація.
Зверніть увагу, що вибір кількості товарів на сторінці списку товарів бекенду
не впливає на відображення кількості товарів фронтенду.

## Атрибути

Вкладка Атрибути відображає повний список атрибутів, доступних для налаштування ваших товарів.
Список представлено у вигляді заголовка та додаткової інформації, а також кнопок управління.

На сторінці також є форма пошуку атрибутів. Для зручності управління ви можете сортувати атрибути за всіма полями таблиці представлення
як у прямому, так і у зворотному напрямку.

Якщо у вашому магазині більше атрибутів, ніж ви обрали відображати на сторінці, інші атрибути
автоматично перейдуть на іншу сторінку, а внизу з'явиться пагінація.

## Налаштування

На вкладці Налаштування ви керуєте всіма налаштуваннями вашого магазину. Зверніть увагу, що ця вкладка
доступна тільки користувачам з роллю адміністратора сайту.

На цій вкладці ви можете контролювати, як магазин відображається в головному меню панелі адміністратора
а також інші вкладки, що відображаються в модулі магазину. А також у вас є опція увімкнення/вимкнення
додаткової функціональності магазину.

Ви також можете приховати або показати певні поля в товарі або замовленні, а також
перейменувати певні поля, щоб менеджер магазину мав чіткіше уявлення про те, яку
функціональність має конкретне поле.

## Валюти

Вкладка Валюти надає інструменти для управління курсами обміну між валютами,
що використовуються у вашому магазині. На відміну від інших вкладок, список доступних валют не налаштовується
безпосередньо тут, а замість цього реєструється на вкладці Налаштування. Це дозволяє адміністраторам
визначати, які валюти доступні для використання в магазині, зберігаючи гнучкість
в управлінні їх курсами обміну.

Всі значення курсу обміну зберігаються в конфігураційному файлі, розташованому за адресою
`core/custom/config/seiger/settings/sCommerceCurrencies.php`. Дані зберігаються у вигляді
масиву, забезпечуючи швидкий доступ та легку модифікацію при необхідності. Цей підхід дозволяє
системі підтримувати узгодженість, спрощуючи інтеграцію з іншими модулями або
користувацькою функціональністю.

Вкладка призначена для допомоги адміністраторам легко оновлювати курси обміну відносно
базової валюти магазину. Це забезпечує точність та узгодженість усіх цін, що відображаються клієнтам,
навіть при роботі з кількома валютами. Хоча автоматизація оновлень курсу обміну може бути інтегрована в майбутньому,
поточний дизайн пріоритизує ручне управління для точності та надійності.

## Користувацька вкладка

У вас є можливість розширити можливості адміністративної частини модуля sCommerce
за допомогою події `sCommerceManagerAddTabEvent`. Для цього використовуйте ваш власний файл плагіну або створіть
новий (наприклад `core/custom/packages/main/plugins/SeigerPlugin.php`) та додайте наступний вміст.

```php
<?php

use Illuminate\Support\Facades\Event;
use Seiger\sCommerce\Facades\sCommerce;
...

Event::listen('evolution.sCommerceManagerAddTabEvent', function($params) {
    $result['handler'] = MODX_BASE_PATH . 'core/custom/packages/main/src/Controllers/SeigerPluginCommerceHandler.php';
    $result['view'] = '';

    switch ($params['currentTab'] ?? '') {
        case 'content' :
            $result['view'] = sCommerce::tabRender('mypage', 'Main::seigerplugin.mypageTab', $params['dataInput'] ?? [], 'My Page', 'fa fa-keyboard', 'The text that is displayed when hovering');
            break;
    }

    return $result;
});

...
```

В результаті повинен бути повернений масив з двома ключами **handler** та **view**.
Ключ **handler** повинен містити посилання на файл обробника для вашої користувацької сторінки.
Дивіться приклад файлу обробника.

```php
<?php

use Seiger\sCommerce\Facades\sCommerce;

switch (request()->input('get')) { // поточний id вкладки
    case 'mypage': // поточний id вкладки
        $tabs = ['products', 'attributes']; // вкладки, які повинні відображатися при показі цієї вкладки
        
        ...
        
        $data['items'] = $items; // дані, які потрібно передати в представлення
        break;
    case 'mypageSave': // якщо дані потрібно зберегти
        ...
        
        $back = (request()->back ?? '&get=products');
        return header('Location: ' . sCommerce::moduleUrl() . $back);
}
```

Ключ **view** повинен містити відображення вашої сторінки. Це досить легко досягти
якщо ви використовуєте метод `sCommerce::tabRender()`. Як аргументи передаються наступні дані,
як у прикладі:

```php
'mypage', // ID вкладки
'Main::seigerplugin.mypageTab', // Шаблон для вкладки
$params['dataInput'] ?? [], // Вхідні дані для вкладки
'My Page', // Назва вкладки
'fa fa-keyboard', // Іконка для вкладки
'The text that is displayed when hovering' // Довідковий текст для вкладки
```
