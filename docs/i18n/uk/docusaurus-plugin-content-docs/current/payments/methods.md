---
id: methods
title: Вбудовані способи оплати
sidebar_position: 2
---

# Вбудовані способи оплати

sCommerce включає спосіб оплати **Готівка** з коробки. Цей простий спосіб оплати дозволяє приймати готівкові платежі (наприклад, накладений платіж).

## Оплата готівкою

### Огляд

Спосіб оплати готівкою - це простий варіант оплати, який не потребує інтеграції із зовнішніми платіжними шлюзами. Він ідеально підходить для:

- Замовлень з накладеним платежем (НП)
- Самовивозу з оплатою готівкою
- Локальних доставок зі збором готівки
- Ринків, де готівка є переважним способом оплати

### Функції

- ✅ **Без зовнішніх залежностей** - Працює без сторонніх інтеграцій
- ✅ **Просте налаштування** - Мінімальна настройка
- ✅ **Власні повідомлення** - Додайте інформаційний текст для клієнтів
- ✅ **Підтримка кількох мов** - Локалізовані назви та описи
- ✅ **Без комісій за транзакції** - Прямі платежі без посередників

### Конфігурація

#### Крок 1: Доступ до способів оплати

1. Перейдіть до: **Панель адміністратора → Модулі → Commerce → Платежі**
2. Знайдіть "Готівка" у списку способів оплати
3. Клацніть на спосіб оплати, щоб налаштувати його

#### Крок 2: Основні налаштування

**Активний**: Перемикач для увімкнення/вимкнення способу оплати

**Позиція**: Встановіть порядок відображення (менші числа відображаються першими)

**Назва**: Локалізована назва способу оплати, що відображається клієнтам
- Англійська: "Cash"
- Українська: "Готівка"
- Російська: "Наличные"

**Опис**: Локалізований опис, що відображається під час оформлення замовлення
- Англійська: "Pay with cash upon delivery or pickup"
- Українська: "Оплата готівкою при отриманні"
- Російська: "Оплата наличными при получении"

#### Крок 3: Додаткові налаштування

**Інформаційне повідомлення**: Необов'язкове повідомлення, що відображається клієнтам під час оформлення

Приклади повідомлень:
- "Будь ласка, підготуйте точну суму для доставки"
- "Готівкова оплата приймається тільки в національній валюті"
- "Доставки понад 10000 грн можуть потребувати передоплати"

### Використання при оформленні

Коли клієнт обирає спосіб оплати Готівка під час оформлення:

1. Відображається назва та опис способу оплати
2. Показується інформаційне повідомлення (якщо налаштоване)
3. Замовлення створюється зі статусом "очікує оплати"
4. Кнопка оплати не відображається (оплата буде зібрана офлайн)

### Обробка замовлення

При обробці замовлень з оплатою готівкою:

1. **Замовлення створено**: Статус встановлюється на "очікує"
2. **Замовлення підготовлено**: Оновіть статус на "готове до відправки"
3. **Замовлення відправлено**: Оновіть статус на "відправлено"
4. **Оплата отримана**: Після отримання готівки оновіть статус на "оплачено"
5. **Замовлення виконано**: Позначте замовлення як "виконане"

### Frontend інтеграція

#### Відображення способу оплати

Спосіб оплати готівкою автоматично включається в список способів оплати при оформленні:

```php
$checkout = new sCheckout();
$paymentMethods = $checkout->getPayments();

foreach ($paymentMethods as $method) {
    echo '<div class="payment-method">';
    echo '<input type="radio" name="payment_method" value="' . $method['key'] . '">';
    echo '<label>' . $method['title'] . '</label>';
    echo '<p>' . $method['description'] . '</p>';
    echo '</div>';
}
```

#### Отримати конкретний спосіб оплати

```php
$checkout = new sCheckout();
$cashPayment = $checkout->getPayment('cash');

// Доступ до деталей платежу
echo $cashPayment['title'];       // "Готівка"
echo $cashPayment['description']; // "Оплата готівкою при отриманні"
echo $cashPayment['info'];        // Інформаційне повідомлення (якщо налаштоване)
```

### API інтеграція

#### Отримати доступні способи оплати

```http
GET /api/checkout/payments
```

Відповідь:
```json
{
    "success": true,
    "payments": [
        {
            "id": 1,
            "key": "cash",
            "name": "cash",
            "title": "Готівка",
            "description": "Оплата готівкою при отриманні",
            "info": "Будь ласка, підготуйте точну суму"
        }
    ]
}
```

#### Обробити платіж готівкою

```http
POST /api/checkout/pay/cash
```

Тіло запиту:
```json
{
    "order_id": 123,
    "payment_method": "cash"
}
```

Відповідь:
```json
{
    "success": true,
    "message": "Замовлення успішно створено",
    "order": {
        "id": 123,
        "status": "pending",
        "payment_method": "cash"
    }
}
```

### Найкращі практики

#### 1. **Чітка комунікація**
- Надайте чіткі інструкції щодо оплати готівкою в описі
- Вкажіть, чи потрібна точна сума
- Згадайте про будь-які максимальні ліміти готівкової оплати

#### 2. **Перевірка замовлення**
- Зателефонуйте клієнтам перед відправкою для підтвердження замовлення
- Перевірте адресу доставки
- Підтвердіть суму оплати

#### 3. **Інструкції з доставки**
- Навчіть персонал доставки процедурам збору готівки
- Надайте квитанції для всіх готівкових транзакцій
- Використовуйте безпечні методи обробки готівки

#### 4. **Управління ризиками**
- Встановіть максимальну вартість замовлення для готівкових платежів
- Вимагайте передоплату для дорогих замовлень
- Моніторте підозрілі замовлення

### Налаштування

#### Власні інформаційні повідомлення за мовами

```php
// У панелі адміністратора встановіть різні повідомлення для кожної мови:

// Англійська
info: "Cash payment accepted. Please have exact change ready."

// Українська
info: "Приймаємо оплату готівкою. Будь ласка, підготуйте точну суму."

// Російська
info: "Принимаем оплату наличными. Пожалуйста, подготовьте точную сумму."
```

#### Відображення власного повідомлення в шаблоні

```blade
@php
    $checkout = new \Seiger\sCommerce\Checkout\sCheckout();
    $cashPayment = $checkout->getPayment('cash');
@endphp

@if(isset($cashPayment['info']) && $cashPayment['info'])
    <div class="alert alert-info">
        <i class="icon-info"></i>
        {{ $cashPayment['info'] }}
    </div>
@endif
```

### Усунення неполадок

#### Спосіб оплати не відображається

1. **Перевірте, чи активний**: Переконайтеся, що спосіб оплати увімкнений у панелі адміністратора
2. **Перевірте позицію**: Переконайтеся, що номер позиції встановлений правильно
3. **Перевірте дозволи**: Переконайтеся, що способи оплати увімкнені глобально
4. **Очистіть кеш**: Очистіть системний кеш для оновлення способів оплати

#### Платіж не обробляється

1. **Валідуйте дані замовлення**: Переконайтеся, що надано ID замовлення та спосіб оплати
2. **Перевірте статус замовлення**: Переконайтеся, що замовлення може приймати платежі
3. **Переглянь те логи**: Перевірте системні логи на наявність помилок обробки платежів

### Приклад шаблону

Повний вибір способу оплати при оформленні:

```blade
<div class="payment-methods">
    <h3>Оберіть спосіб оплати</h3>
    
    @php
        $checkout = new \Seiger\sCommerce\Checkout\sCheckout();
        $payments = $checkout->getPayments();
    @endphp
    
    @foreach($payments as $payment)
        <div class="payment-method-option">
            <label class="payment-method-label">
                <input 
                    type="radio" 
                    name="payment_method" 
                    value="{{ $payment['key'] }}"
                    required
                >
                <span class="payment-title">{{ $payment['title'] }}</span>
            </label>
            
            @if(!empty($payment['description']))
                <p class="payment-description">{{ $payment['description'] }}</p>
            @endif
            
            @if(!empty($payment['info']))
                <div class="payment-info">
                    <i class="icon-info"></i>
                    {{ $payment['info'] }}
                </div>
            @endif
        </div>
    @endforeach
</div>
```

### Статистика та звіти

Відстежуйте замовлення з оплатою готівкою:

```php
use Seiger\sCommerce\Models\sOrder;

// Отримати всі замовлення з оплатою готівкою
$cashOrders = sOrder::where('payment_method', 'cash')
    ->where('status', 'paid')
    ->get();

// Розрахувати загальну суму зібраної готівки
$totalCash = sOrder::where('payment_method', 'cash')
    ->where('status', 'paid')
    ->sum('total');

// Отримати очікувані готівкові замовлення
$pendingCash = sOrder::where('payment_method', 'cash')
    ->where('status', 'pending')
    ->get();
```

## Додавання інших способів оплати

Спосіб оплати готівкою - це тільки початок. Ви можете розширити sCommerce додатковими способами оплати:

### Доступні сторонні інтеграції

- **Stripe** - Обробка кредитних карток
- **PayPal** - Глобальна платіжна платформа
- **LiqPay** - Український платіжний шлюз
- **WayForPay** - Українська платіжна система
- **Fondy** - Міжнародний платіжний шлюз
- **Власні інтеграції** - Створіть власні

### Створення власних способів оплати

Для інтеграції з іншими платіжними шлюзами або створення власної логіки оплати дивіться:
- [Створення власних способів оплати](../payments.md) - Посібник для розробників

## Посилання

- [Створення власних способів оплати](../payments.md) - Посібник для розробників
- [Процес оформлення](../checkout.md) - Повний потік оформлення
- [Управління замовленнями](../orders.md) - Управління замовленнями
- [Документація API](../api.md) - Довідка API платежів
